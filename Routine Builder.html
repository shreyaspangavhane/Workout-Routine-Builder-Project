<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workout Routine Builder</title>
    <link rel="icon" href="./public/images/title.png" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

</head>

<body>

    <nav>
        <div class="logo">WorkoutBuilder</div>
        <ul>
            <li><a href="./index.html">Home</a></li>
            <li><a id="navactive" href="./Routine Builder.html">Routine Builder</a></li>
            <li><a href="./Exercise Library.html">Exercise Library</a></li>
            <li>
                <a href="./wt.html">Weight Management Tracker</a>
            </li>
            <li><a href="./Nutrition & Tips.html">Nutrition & Tips</a></li>
            <li><a href="./About.html">About</a></li>
            <li><a href="./Contact.html">Contact</a></li>
        </ul>
        <div class="user-profile">
            <img src="./public/images/pp.png" style="border-radius: 50px;" alt="Profile Picture">
            <span>User</span>
        </div>
    </nav>

    <section id="builder">
        <h2>Build Your Routine</h2>
        <form id="routine-form" action="http://localhost:8080/Test/saveRoutine" method="POST">
            <label for="goal">Select Your Goal:</label>
            <select id="goal" name="goal">
                <option value="weight-loss">Weight Loss</option>
                <option value="muscle-gain">Muscle Gain</option>
                <option value="endurance">Endurance</option>
            </select>

            <label for="days">Workout Days per Week:</label>
            <input type="number" id="days" name="days" min="1" max="7">

            <label for="exercises">Select Exercises:</label>
            <select id="exercises" name="exercises" multiple>
                <option value="pushups">Push-ups</option>
                <option value="squats">Squats</option>
                <option value="burpees">Burpees</option>
            </select>

            <label for="sets-reps">Sets and Reps:</label>
            <input type="text" id="sets-reps" name="sets-reps" placeholder="e.g., 3 sets of 10 reps">

            <label for="duration">Exercise Duration (in minutes):</label>
            <input type="number" id="duration" name="duration" min="1" placeholder="e.g., 10">

            <label for="rest">Rest Between Sets (in seconds):</label>
            <input type="number" id="rest" name="rest" min="0" placeholder="e.g., 30">

            <label for="notes">Additional Notes:</label>
            <textarea id="notes" name="notes" placeholder="Add any custom notes here..."></textarea>

            <button type="button">Save Routine</button>
        </form>



        <table border="2" id="data-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Goal</th>
                    <th>Workout Days per Week</th>
                    <th>Select Exercises</th>
                    <th>Sets and Reps</th>
                    <th>Exercise Duration (in minutes)</th>
                    <th>Rest Between Sets (in seconds)</th>
                    <th>Additional Notes</th>

                </tr>
            </thead>
            <tbody></tbody>
        </table>



    </section>
    <footer>
        <div class="footer-container">
            <div class="footer-about">
                <h4>About Workout Routine Builder</h4>
                <p>Your one-stop solution to creating personalized workout plans, fitness routines, and nutritional guidance to achieve your health and fitness goals.</p>
            </div>

            <div class="footer-links">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="./index.html">Home</a></li>
                    <li><a href="./About.html">About Us</a></li>
                    <li><a href="./Exercise Library.html">Exercise Library</a></li>
                    <li><a href="./Nutrition & Tips.html">Nutrition & Tips</a></li>
                    <li><a href="./Contact.html">Contact Us</a></li>
                </ul>
            </div>


            <div class="footer-contact">
                <h4>Contact Us</h4>
                <ul>
                    <li><i class="fas fa-envelope"></i> workout@groups.com</li>
                    <li><i class="fas fa-phone"></i> +91 92847 7XXXX</li>
                    <li><i class="fas fa-map-marker-alt"></i> Maharashtra Major State Highway 3, ABC</li>
                </ul>
            </div>

            <div class="footer-social">
                <h4>Follow Us</h4>
                <ul class="social-icons">
                    <li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
                    <li><a href="#"><i class="fab fa-twitter"></i></a></li>
                    <li><a href="#"><i class="fab fa-instagram"></i></a></li>
                    <li><a href="#"><i class="fab fa-linkedin-in"></i></a></li>
                </ul>
            </div>
        </div>



    </footer>
    <script>
        // async function Save() {
        //     const goal = document.getElementById("goal").value;
        //     const days = document.getElementById("days").value;
        //     const exercises = Array.from(document.getElementById("exercises").selectedOptions).map(option => option.value);
        //     const setsReps = document.getElementById("sets-reps").value;
        //     const duration = document.getElementById("duration").value;
        //     const rest = document.getElementById("rest").value;
        //     const notes = document.getElementById("notes").value;

        //     const formData = {
        //         goal,
        //         days_per_week: days,
        //         exercises: exercises.join(', '),
        //         sets_reps: setsReps,
        //         duration,
        //         rest,
        //         notes
        //     };

        //     try {
        //         const response = await fetch("http://localhost:8080/Test/saveRoutine", {
        //             method: "POST",
        //             headers: {
        //                 "Content-Type": "application/json"
        //             },
        //             body: JSON.stringify(formData)
        //         });

        //         const result = await response.json();
        //         if (response.ok && result.status === "success") {
        //             alert("Routine saved successfully!");
        //             fetchData(); // Reload data in the table if needed
        //         } else {
        //             alert("Failed to save routine.");
        //         }
        //     } catch (error) {
        //         console.error("Error saving data:", error);
        //         alert("An error occurred.");
        //     }
        // }


        // Function to fetch data and populate the table
        async function fetchData() {
            try {
                const response = await fetch("http://localhost:8080/Test/fetchData");
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                const data = await response.json();

                const tableBody = document.getElementById("data-table").getElementsByTagName("tbody")[0];
                tableBody.innerHTML = ""; // Clear any existing data

                data.forEach(record => {
                    const row = document.createElement("tr");

                    const cell1 = document.createElement("td");
                    cell1.textContent = record.id; // Adjust column names as needed
                    row.appendChild(cell1);

                    const cell2 = document.createElement("td");
                    cell2.textContent = record.goal;
                    row.appendChild(cell2);

                    const cell3 = document.createElement("td");
                    cell3.textContent = record.days_per_week;
                    row.appendChild(cell3);

                    const cell4 = document.createElement("td");
                    cell4.textContent = record.exercises;
                    row.appendChild(cell4);

                    const cell5 = document.createElement("td");
                    cell5.textContent = record.sets_reps;
                    row.appendChild(cell5);

                    const cell6 = document.createElement("td");
                    cell6.textContent = record.duration;
                    row.appendChild(cell6);

                    const cell7 = document.createElement("td");
                    cell7.textContent = record.rest;
                    row.appendChild(cell7);

                    const cell8 = document.createElement("td");
                    cell8.textContent = record.notes;
                    row.appendChild(cell8);


                    tableBody.appendChild(row);
                });
            } catch (error) {
                console.error("Error fetching data:", error);
            }
        }

        window.onload = fetchData;
    </script>
</body>

</html>